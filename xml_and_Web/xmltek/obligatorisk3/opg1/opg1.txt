Opgaven ligger lige til højrebenet for en rekursiv løsning.

Tanken er, at man kalder en funktion med et personnavn og et ønsket antal generationer man ønsker at gå tilbage.

Funktionen kalder derefter sig selv på hhv. fædrene og mødrene side.

Nedenstående implementering mangler at levere den ønskede namespace construct i output.

declare function local:makePerson($name as xs:string, $g as xs:integer) {
  if ($g eq 0) then 
    element person {
      attribute name { $name }
    }
  else
    element person {
      attribute name { $name },
      element father { local:makePerson(fn:string-join(($name, 'father'), '&apos;s '), $g -1) },
      element mother { local:makePerson(fn:string-join(($name, 'mother'), '&apos;s '), $g -1) }
    }
};

local:makePerson("John Doe", 3)

