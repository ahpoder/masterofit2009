<!DOCTYPE html>
<html>
	<head>
		<title>PA Webservice description page</title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title>geolog web-service information</title>
		<style type="text/css">
			p{margin:0}
			.c0{color:#000000;font-size:11pt;font-family:Arial}
			.c1{vertical-align:top;width:156.0pt;border-style:solid;border-color:#000000;border-width:1.0pt;padding:5.0pt 5.0pt 5.0pt 5.0pt}
			.c2{line-height:1.15;text-indent:0pt;direction:ltr}
			.c4{border-collapse:collapse}
		</style>
	</head>
	<body>
		<h1>Welcome to the PA geolog Web-service</h1>
		<br/>
		<p>You've arrived to the PA web-service discription page. This service is intended for use by clients aware of the protocol described below.
		<br/>All the URLs will return an XML document defined by <a href="geolog.xsd">this<a/> schema.</p>
		<br/>
		<body><p><span>The Web-service API is the URIs described in the table below.</span></p
		<br/>
		<table cellpadding="0" cellspacing="0" class="c4" width="100%">
		<col width="20%"/>
		<col width="5%"/>
		<col width="80%"/>
		<tbody>
		<tr><td class="c1"><p class="c2"><span class="c0">URL (&lt;server&gt;/geolog/)</span></p></td><td class="c1"><p class="c2"><span class="c0">Request</span></p></td><td class="c1"><p class="c2"><span class="c0">Description</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0"><a href="devices">devices<a/></span></p></td><td class="c1"><p class="c2"><span class="c0">GET</span></p></td><td class="c1"><p class="c2"><span class="c0">Returns a list of all devices registered with the service. This list contain device ID links only. These links must be queried for the details about the device. If authentication is employed only the devices accessible to the user are returned.</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices?status=ERROR</span></p></td><td class="c1"><p class="c2"><span class="c0">GET</span></p></td><td class="c1"><p class="c2"><span class="c0">Used to indicate that only a subset of the devices should be returned, namely the ones that are currently in an error state.</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices?...</span></p></td><td class="c1"><p class="c2"><span class="c0">GET</span></p></td><td class="c1"><p class="c2"><span class="c0">Multiple other filter possibilities exist, including limiting the amount of information returned, e.g. returning only the location and not the last readings (?noReadings=on), etc.</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices/&lt;ID&gt;</span></p></td><td class="c1"><p class="c2"><span class="c0">GET</span></p></td><td class="c1"><p class="c2"><span class="c0">Return details about this device including information about owner and its past and current readings, status and location.</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices/&lt;ID&gt;?from=&lt;unix time&gt;&amp;to=&lt;unix time&gt;</span></p></td><td class="c1"><p class="c2"><span class="c0">GET</span></p></td><td class="c1"><p class="c2"><span class="c0">Return the readings, status and location information for the specified device and the indicated time interval.</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices/&lt;ID&gt;?noLocaton=on&amp;noStatus=on</span></p></td><td class="c1"><p class="c2"><span class="c0">GET</span></p></td><td class="c1"><p class="c2"><span class="c0">Return the readings for the specified device (no status or location information).</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices/&lt;ID&gt;?...</span></p></td><td class="c1"><p class="c2"><span class="c0">GET</span></p></td><td class="c1"><p class="c2"><span class="c0">Multiple other filtration possibilities exist, including limiting the amount of information returned, e.g. from=NOW, indicating that only the current status, location and readings should be returned.</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices</span></p></td><td class="c1"><p class="c2"><span class="c0">PUT</span></p></td><td class="c1"><p class="c2"><span class="c0">Creates a new device. This is not often used, as a device register itself on the system when it POST its first reading/status/location, however it is possible to create a device before it registers itself.</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices/&lt;ID&gt;</span></p></td><td class="c1"><p class="c2"><span class="c0">POST</span></p></td><td class="c1"><p class="c2"><span class="c0">Add one or more new readings/locations/status-info for the given device to the device with the given ID. If the device is new to the system it is registered with the system.</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices/&lt;ID&gt;/configuration</span></p></td><td class="c1"><p class="c2"><span class="c0">GET</span></p></td><td class="c1"><p class="c2"><span class="c0">Return the current configuration for the device</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices/&lt;ID&gt;/configuration</span></p></td><td class="c1"><p class="c2"><span class="c0">POST</span></p></td><td class="c1"><p class="c2"><span class="c0">Update the current configuration for the device. This is a POST as a device always has a configuration, and a PUT (add a new) therefore do not make sense.</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices/&lt;ID&gt;/owner</span></p></td><td class="c1"><p class="c2"><span class="c0">GET</span></p></td><td class="c1"><p class="c2"><span class="c0">Return the owner of the device, if any</span></p></td></tr>
		<tr><td class="c1"><p class="c2"><span class="c0">devices/&lt;ID&gt;/owner</span></p></td><td class="c1"><p class="c2"><span class="c0">POST</span></p></td><td class="c1"><p class="c2"><span class="c0">Update the owner of the device</span></p></td></tr></tbody>
		</table>
	</body>
</html>

